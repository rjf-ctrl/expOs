[PROCESS_TABLE + [SYSTEM_STATUS_TABLE + 1]*16 + 13] = SP;
SP = [PROCESS_TABLE + [SYSTEM_STATUS_TABLE + 1]*16 + 11]*512-1;
backup;

[DISK_STATUS_TABLE + 0] = 0;
[DISK_STATUS_TABLE + 4] = -1;   //my idea to be clean and clear out the pid 


alias i R5;
i=0;
while (i<MAX_PROC_NUM) do
	if  ([PROCESS_TABLE + i*16 + 4] == WAIT_DISK) then
        [PROCESS_TABLE + i*16 + 4] = READY;
    endif;
    i = i + 1;
endwhile;

restore;
SP = [PROCESS_TABLE + [SYSTEM_STATUS_TABLE + 1]*16 + 13];

ireturn;